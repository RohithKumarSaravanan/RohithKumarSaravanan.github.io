<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rohith Kumar | Creative Photography Portfolio</title>
    <link rel="icon" href="ProfilePicture.jpg" type="image/jpg">

    <script src="https://cdn.tailwindcss.com?plugins=aspect-ratio"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Playfair+Display:ital,wght@0,700;1,600&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // --- Creative & Premium Palette ---
                        'brand-bg': '#f8f9fa',          // Very light gray base
                        'brand-surface': '#ffffff',     // White for cards/surfaces
                        'brand-primary': '#0d9488',     // Teal 600 (Primary Accent)
                        'brand-primary-dark': '#0f766e',// Teal 700
                        'brand-secondary': '#c026d3',   // Fuchsia 600 (Secondary Accent)
                        'brand-highlight': '#f59e0b',    // Amber 500 (Highlight)
                        'brand-text': '#212529',         // Near black for text
                        'brand-text-muted': '#6c757d',    // Gray for muted text
                        'brand-text-on-accent': '#ffffff',// White text on dark accents
                    },
                    fontFamily: {
                        sans: ['Poppins', 'Inter', 'sans-serif'], // Poppins for general sans
                        serif: ['Playfair Display', 'serif'], // Expressive serif
                        display: ['Playfair Display', 'serif'] // Alias for headings
                    },
                    borderRadius: {
                        '4xl': '2rem',
                        '5xl': '3rem',
                    },
                    boxShadow: {
                        'subtle': '0 4px 15px rgba(0, 0, 0, 0.05)',
                        'lifted': '0 10px 30px rgba(0, 0, 0, 0.07)',
                        'interactive': '0 6px 20px rgba(13, 148, 136, 0.2)', // Shadow using primary color
                        'hover-float': '0 12px 35px rgba(0, 0, 0, 0.1)' // Shadow for hover
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.6s ease-out forwards',
                        'fade-in': 'fadeIn 0.6s ease-out forwards',
                        'scale-in': 'scaleIn 0.5s ease-out forwards',
                        'pulse-subtle': 'pulseSubtle 2.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeInUp: { '0%': { opacity: '0', transform: 'translateY(25px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
                        scaleIn: { '0%': { opacity: '0', transform: 'scale(0.95)' }, '100%': { opacity: '1', transform: 'scale(1)' } },
                        pulseSubtle: { '0%, 100%': { opacity: '1' }, '50%': { opacity: '.85' } }
                    }
                }
            }
        }
    </script>

    <style type="text/tailwindcss">
        body { @apply bg-brand-bg text-brand-text font-sans antialiased text-base leading-relaxed; }
        h1, h2, h3, h4, h5, h6 { @apply font-display font-bold; }
        .animate-when-visible { opacity: 0; transition: opacity 0.7s ease-out, transform 0.7s ease-out; }
        .animate-when-visible.is-visible { opacity: 1; transform: none !important; }
        .animate-fade-in-up { @apply animate-when-visible translate-y-8; }
        .animate-fade-in { @apply animate-when-visible; }
        .animate-scale-in { @apply animate-when-visible scale-95; }
        [class*='aspect-w-'] > * { position: absolute; height: 100%; width: 100%; top: 0; right: 0; bottom: 0; left: 0; }
        .text-gradient-primary { @apply text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-secondary; }
        .text-gradient-highlight { @apply text-transparent bg-clip-text bg-gradient-to-r from-brand-secondary to-brand-highlight; }

        /* Style for the new simple popup image size */
        #simplePopupModal img {
            max-width: 70vw;
            max-height: 70vh;
        }
    </style>

</head>
<body class="overflow-x-hidden">

    <header id="site-header" class="bg-brand-bg/80 backdrop-blur-lg fixed top-0 left-0 right-0 z-50 transition-shadow duration-300 shadow-subtle">
        <nav class="container mx-auto px-6 lg:px-8">
            <div class="flex justify-between items-center h-24">
                <a href="#" class="text-3xl font-bold font-serif italic text-gradient-primary hover:opacity-80 transition duration-300">
                    RK<span class="text-brand-text text-xl">.photo</span>
                </a>

                <div class="hidden md:flex items-center space-x-10">
                    <a href="#gallery" class="text-brand-text hover:text-brand-primary transition duration-300 font-medium group">
                        Gallery <span class="block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-brand-primary"></span>
                    </a>
                    <a href="#about" class="text-brand-text hover:text-brand-primary transition duration-300 font-medium group">
                        About <span class="block max-w-0 group-hover:max-w-full transition-all duration-500 h-0.5 bg-brand-primary"></span>
                    </a>
                    <a href="#contact" class="text-brand-text hover:text-brand-primary transition duration-300 font-medium px-5 py-2 rounded-full border-2 border-brand-secondary hover:bg-brand-secondary hover:text-brand-text-on-accent">
                       Contact <i class="fa-solid fa-arrow-right-long ml-1 text-xs"></i>
                    </a>
                </div>

                <div class="md:hidden">
                    <button id="menu-toggle" class="text-brand-text hover:text-brand-primary focus:outline-none">
                        <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    </button>
                </div>
            </div>
        </nav>

        <div id="mobile-menu" class="md:hidden hidden bg-brand-surface absolute w-full shadow-lifted rounded-b-2xl">
            <a href="#gallery" class="block px-6 py-4 text-brand-text hover:bg-brand-primary/10 transition duration-300 font-medium">Gallery</a>
            <a href="#about" class="block px-6 py-4 text-brand-text hover:bg-brand-primary/10 transition duration-300 font-medium">About</a>
            <a href="#contact" class="block px-6 py-4 text-brand-text hover:bg-brand-primary/10 transition duration-300 font-medium">Contact</a>
        </div>
    </header>

    <main>
        <section class="relative min-h-[85vh] lg:min-h-screen flex flex-col justify-center overflow-hidden bg-gradient-to-br from-teal-50 via-rose-50 to-amber-50 pt-32 pb-16">
            <div class="container mx-auto px-6 lg:px-8 grid lg:grid-cols-2 gap-10 items-center">
                <div class="z-10 animate-fade-in-up">
                    <h1 class="font-display text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold mb-6 leading-tight text-brand-text">
                        Capturing Life's <span class="text-gradient-primary italic">Vibrant</span> Essence.
                    </h1>
                    <p class="text-lg sm:text-xl text-brand-text-muted mb-10 max-w-xl">
                        Welcome! I'm Rohith Kumar, a photographer exploring the beauty in moments big and small. Let's discover the world through my lens.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <a href="#gallery" class="inline-flex items-center justify-center bg-brand-primary hover:bg-brand-primary-dark text-brand-text-on-accent font-semibold py-3 px-8 rounded-full shadow-interactive hover:shadow-lifted transition duration-300 transform hover:-translate-y-1">
                            View My Work <i class="fa-solid fa-camera-retro ml-2"></i>
                        </a>
                        <a href="#about" class="inline-flex items-center justify-center border-2 border-brand-text/50 hover:border-brand-text text-brand-text font-medium py-3 px-8 rounded-full hover:bg-brand-text/5 transition duration-300">
                            Learn More <i class="fa-solid fa-arrow-down-long ml-2 text-xs"></i>
                        </a>
                    </div>
                </div>
                <div class="relative h-80 lg:h-auto lg:aspect-w-1 lg:aspect-h-1 animate-scale-in" style="animation-delay: 0.2s;">
                    <div class="absolute inset-0 overflow-hidden rounded-3xl lg:rounded-4xl shadow-lifted">
                        <video
                            autoplay
                            loop
                            muted
                            playsinline
                            class="absolute inset-0 w-full h-full object-cover"
                            id="anotherVideo" >
                            <source src="video2.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                    <div class="absolute -bottom-10 -right-10 w-40 h-40 bg-gradient-to-tr from-brand-secondary to-brand-highlight rounded-full opacity-30 blur-2xl hidden lg:block"></div>
                </div>
            </div>
            <div class="absolute top-1/4 -left-20 w-60 h-60 bg-brand-primary/10 rounded-full blur-3xl pointer-events-none"></div>
        </section>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
            const backgroundVideo = document.getElementById('backgroundVideo');

            const anotherVideo = document.getElementById('anotherVideo');
            if (anotherVideo) {
                anotherVideo.playbackRate = 0.6; // Example: Slow down to 60% speed
            }
            });
        </script>

        <section id="gallery" class="py-20 sm:py-28 bg-gradient-to-b from-white via-white to-brand-bg">
            <div class="container mx-auto px-6 lg:px-8">
                <div class="text-center mb-16 animate-fade-in-up">
                    <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-4">Gallery</h2>
                    <p class="text-lg text-brand-text-muted max-w-2xl mx-auto">A selection of moments captured through my lens. Click thumbnails for details or the main image for a larger view.</p>
                </div>

                <figure class="mb-16 sm:mb-20 rounded-none  p-4 md:p-6 lg:p-8 animate-scale-in group"> <div class="relative w-full h-auto flex justify-center items-center min-h-[300px] md:min-h-[400px] lg:min-h-[500px]">
                        <img id="mainImage" src="image1.jpg" alt="Main showcase image"
                            class="block w-full h-auto max-h-[80vh] object-contain rounded-2xl cursor-pointer transition-all duration-300 ease-in-out group-hover:shadow-hover-float transform group-hover:scale-[1.02]">
                            </div>
                    <figcaption id="mainImageCaption" class="mt-6 text-center animate-fade-in" style="animation-delay: 0.3s;">
                        <h3 id="imageTitle" class="text-xl sm:text-2xl font-semibold mb-2 text-gradient-highlight">Image Title</h3>
                        <p id="imageSummary" class="text-base sm:text-lg text-brand-text-muted max-w-3xl mx-auto px-4">Image summary goes here.</p>
                    </figcaption>
                </figure>

                <div id="thumbnailGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 md:gap-6 animate-fade-in-up" style="animation-delay: 0.2s;">
                    </div>
            </div>
        </section>

        <section id="about" class="py-20 sm:py-28 overflow-hidden bg-brand-surface relative">
            <div class="absolute -top-20 -left-20 w-72 h-72 bg-gradient-to-br from-brand-primary/10 to-brand-secondary/10 rounded-full blur-3xl pointer-events-none"></div>
            <div class="absolute -bottom-20 -right-20 w-72 h-72 bg-gradient-to-tl from-brand-highlight/10 to-brand-primary/10 rounded-full blur-3xl pointer-events-none"></div>
            <div class="container mx-auto px-6 lg:px-8 relative z-10">
                <div class="grid lg:grid-cols-5 gap-12 lg:gap-16 items-center">
                    <div class="lg:col-span-3 animate-fade-in-up">
                        <span class="text-sm font-semibold uppercase tracking-wider text-brand-primary mb-2 block">Meet the Artist</span>
                        <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 leading-tight">Rohith Kumar</h2>
                        <div class="prose prose-lg text-brand-text-muted max-w-none space-y-6">
                            <p>Hello! Based in Fredericton, NB, I'm driven by a love for visual storytelling...</p>
                            <p>My style blends vibrant colors with authentic moments...</p>
                            <p>Let's connect and create something memorable together!</p>
                        </div>
                        <a href="#contact" class="mt-8 inline-flex items-center text-brand-primary font-semibold group">
                            Contact Me <i class="fa-solid fa-chevron-right ml-2 text-xs group-hover:translate-x-1 transition-transform duration-300"></i>
                        </a>
                    </div>
                    <div class="lg:col-span-2 relative h-96 lg:h-[600px] animate-scale-in" style="animation-delay: 0.2s;">
                        <div class="absolute inset-0 overflow-hidden rounded-3xl shadow-lifted">
                            <video
                                autoplay
                                loop
                                muted
                                playsinline
                                class="absolute inset-0 w-full h-full object-cover"
                                id="aboutVideo" >
                                <source src="video1.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>
                        </div>
                        <div class="absolute -bottom-6 -right-6 from-brand-secondary  p-2 rounded-2xl shadow-lg text-brand-text-on-accent hover:bg-gray-50 hover:shadow-lg">
                            <img src="ProfilePicture.jpg" width="60" height="45">
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
            // ... (Your existing JavaScript code for the home video) ...

            const aboutVideo = document.getElementById('aboutVideo');
            if (aboutVideo) {
                aboutVideo.playbackRate = 0.6; // Example: Slow down to 75% speed
            }
            });
        </script>

        <section id="contact" class="py-20 sm:py-28 bg-gradient-to-br from-teal-600 via-teal-700 to-fuchsia-700 text-brand-text-on-accent">
             <div class="container mx-auto px-6 lg:px-8 text-center">
                <div class="animate-fade-in-up">
                    <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-6">Get In Touch</h2>
                    <p class="text-lg sm:text-xl max-w-2xl mx-auto mb-10 opacity-90">
                        Have a project in mind...
                    </p>
                    <a href="mailto:your.email@example.com" class="inline-block bg-white hover:bg-opacity-90 text-brand-primary font-bold py-4 px-10 rounded-full shadow-lifted transition duration-300 transform hover:scale-105 text-lg">
                        <i class="fa-regular fa-paper-plane mr-2"></i> Send Email
                    </a>
                </div>
                <div class="mt-12 flex justify-center space-x-6 animate-fade-in-up" style="animation-delay: 0.2s;">
                     <a href="#" aria-label="LinkedIn Profile" class="text-white/70 hover:text-white hover:scale-110 transition-all duration-300"><i class="fab fa-linkedin fa-2x"></i></a>
                     <a href="#" aria-label="Instagram Profile" class="text-white/70 hover:text-white hover:scale-110 transition-all duration-300"><i class="fab fa-instagram fa-2x"></i></a>
                     <a href="#" aria-label="Twitter Profile" class="text-white/70 hover:text-white hover:scale-110 transition-all duration-300"><i class="fab fa-twitter fa-2x"></i></a>
                 </div>
            </div>
        </section>
    </main>

    <footer class="py-10 bg-brand-text text-brand-text-on-accent/70">
        <div class="container mx-auto px-6 lg:px-8 text-center text-sm">
             <p>&copy; <span id="current-year"></span> Rohith Kumar Photography. Crafted with <i class="fa-solid fa-heart text-brand-secondary/80 mx-1"></i> in Fredericton, NB.</p>
             <p class="mt-2 opacity-60">Design powered by Tailwind CSS.</p>
        </div>
    </footer>

    <div id="imageModal" class="fixed inset-0 z-[999] bg-black/90 backdrop-blur-md flex items-center justify-center p-4 transition-opacity duration-300 opacity-0 pointer-events-none" aria-hidden="true" role="dialog" aria-modal="true">
        <button id="modalClose" class="absolute top-5 right-5 sm:top-8 sm:right-8 text-white/70 hover:text-white z-[1001] text-4xl transition duration-300 hover:rotate-90" aria-label="Close image viewer"><i class="fas fa-times"></i></button>
        <button id="modalPrev" class="absolute left-3 sm:left-5 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white text-3xl sm:text-5xl z-[1001] p-3 transition duration-300 hover:bg-white/10 rounded-full" aria-label="Previous image"><i class="fas fa-chevron-left"></i></button>
        <button id="modalNext" class="absolute right-3 sm:right-5 top-1/2 transform -translate-y-1/2 text-white/50 hover:text-white text-3xl sm:text-5xl z-[1001] p-3 transition duration-300 hover:bg-white/10 rounded-full" aria-label="Next image"><i class="fas fa-chevron-right"></i></button>
        <div id="modalContentDetailed" class="relative max-w-full max-h-full animate-scale-in flex flex-col items-center">
             <img id="modalImage" src="" alt="Full size view" class="block max-h-[80vh] max-w-[90vw] w-auto h-auto object-contain rounded-xl shadow-2xl mb-4">
             <div id="modalCaption" class="text-center max-w-xl px-4">
                <h3 id="modalTitle" class="text-white text-lg font-medium mb-1"></h3>
                <p id="modalSummary" class="text-white/70 text-sm"></p>
            </div>
        </div>
    </div>

    <div id="simplePopupModal" class="fixed inset-0 z-[1000] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 transition-opacity duration-300 opacity-0 pointer-events-none" aria-hidden="true" role="dialog" aria-modal="true">
         <button id="simplePopupClose" class="absolute top-4 right-4 sm:top-6 sm:right-6 text-white/70 hover:text-white z-[1001] text-3xl transition duration-300 hover:scale-110" aria-label="Close image viewer"><i class="fas fa-times"></i></button>
         <div class="relative animate-scale-in">
             <img id="simplePopupImage" src="" alt="Enlarged view" class="block w-auto h-auto object-contain rounded-lg shadow-xl">
             </div>
    </div>


    <script>
        // --- Image Data ---
        const imageDetails = [ /* ... Paste your imageDetails array here ... */
             { src: 'image1.jpg', title: 'Golden Horizon', summary: '"An evening sky painted with hues of orange..."' },
             { src: 'image2.jpg', title: 'Whispers of the Shore', summary: '"A riverside scene where tall grasses sway gently..."' },
             { src: 'image3.jpg', title: 'Sunset Pathway', summary: '"The golden hour illuminates an empty roadway..."' },
             { src: 'image4.jpeg', title: 'Reflections at Dusk', summary: '"City lights begin to shimmer on the riverâ€™s surface..."' },
             { src: 'image5.jpg', title: 'Cinematic Skies', summary: '"A breathtaking display of clouds dances..."' },
             { src: 'image6.jpeg', title: 'Whispers of the Shore II', summary: '"In a cinematic frame, river shore plants sway..."' },
             { src: 'image7.jpeg', title: 'Stormy Crossings', summary: '"A bridge looms beneath a brooding sky..."' },
             { src: 'image8.jpeg', title: 'Golden River', summary: '"The sunset casts a golden hue over the river..."' },
             { src: 'image9.jpeg', title: 'Harmony of Nature', summary: '"Lush river shore, where vibrant plants meet..."' },
             { src: 'image10.jpeg', title: 'Evening Run', summary: '"As dusk descends, runners chase the fading light..."' },
             { src: 'image11.jpeg', title: 'Silent Blooms', summary: '"Delicate white flowers peek through the grass..."' },
             { src: 'image12.jpeg', title: 'Architectural Wonder', summary: 'A magnificent architectural structure.' },
             { src: 'image13.jpeg', title: 'Wildlife Beauty', summary: 'Majestic beauty of nature in a wildlife shot.' },
             { src: 'image14.jpeg', title: 'Mountain Range', summary: 'A picturesque mountain range vista.' },
             { src: 'image15.jpeg', title: 'Winter Wonderland', summary: 'A serene winter wonderland scene.' },
             { src: 'image16.jpeg', title: 'Bustling Marketplace', summary: 'A vibrant marketplace full of life.' },
             { src: 'image17.jpeg', title: 'Vibrant Autumn', summary: 'A vibrant autumn scene full of warm colors.' }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            // --- DOM Elements ---
            const mainImage = document.getElementById('mainImage');
            const imageTitle = document.getElementById('imageTitle');
            const imageSummary = document.getElementById('imageSummary');
            const thumbnailGrid = document.getElementById('thumbnailGrid');
            // Detailed Modal Elements
            const detailedModal = document.getElementById('imageModal');
            const detailedModalImage = document.getElementById('modalImage');
            const detailedModalTitle = document.getElementById('modalTitle');
            const detailedModalSummary = document.getElementById('modalSummary');
            const detailedModalCloseBtn = document.getElementById('modalClose');
            const detailedModalPrevBtn = document.getElementById('modalPrev');
            const detailedModalNextBtn = document.getElementById('modalNext');
            // Simple Popup Modal Elements - NEW
            const simplePopupModal = document.getElementById('simplePopupModal');
            const simplePopupImage = document.getElementById('simplePopupImage');
            const simplePopupCloseBtn = document.getElementById('simplePopupClose');
            // Other elements
            const menuToggle = document.getElementById('menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');
            const siteHeader = document.getElementById('site-header');
            const currentYearSpan = document.getElementById('current-year');
            const animatedElements = document.querySelectorAll('.animate-when-visible');

            // --- State ---
            let currentIndex = 0;
            let autoChangeInterval = null;

            // --- Functions ---

            function populateThumbnails() {
                if (!thumbnailGrid) return;
                thumbnailGrid.innerHTML = '';
                imageDetails.forEach((detail, index) => {
                    const thumbContainer = document.createElement('div');
                    thumbContainer.className = 'aspect-w-16 aspect-h-10 group'; // Or your preferred aspect ratio
                    const img = document.createElement('img');
                    img.src = detail.src;
                    img.alt = `Thumbnail: ${detail.title}`;
                    img.dataset.index = index;
                    img.loading = 'lazy';
                    img.className = `thumbnail object-cover w-full h-full rounded-xl cursor-pointer border-4 border-transparent group-hover:border-brand-primary transition-all duration-300 ease-in-out transform group-hover:scale-105 group-hover:shadow-interactive focus:outline-none focus:ring-4 focus:ring-brand-primary/50 focus:ring-offset-2 focus:ring-offset-brand-bg`;
                    thumbContainer.appendChild(img);
                    thumbnailGrid.appendChild(thumbContainer);
                });
                addThumbnailListeners(); // Add listeners after populating
            }

            function updateMainDisplay(index, smoothScroll = false) {
                if (index < 0 || index >= imageDetails.length || !mainImage) return;
                const detail = imageDetails[index];
                mainImage.src = detail.src;
                mainImage.alt = `${detail.title} - Main showcase image`;
                if(imageTitle) imageTitle.textContent = detail.title;
                if(imageSummary) imageSummary.textContent = detail.summary;
                currentIndex = index;

                document.querySelectorAll('.thumbnail').forEach((thumb, i) => {
                    thumb.classList.toggle('border-brand-primary', i === index);
                    thumb.classList.toggle('shadow-interactive', i === index);
                    thumb.classList.toggle('scale-105', i === index);
                    thumb.classList.toggle('border-transparent', i !== index);
                });

                if (smoothScroll) {
                    const galleryFigure = document.getElementById('gallery')?.querySelector('figure');
                    galleryFigure?.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
                stopAutoChange();
            }

            // --- DETAILED Modal Functions ---
             function updateDetailedModalContent(index) { // Renamed for clarity
                 if (index < 0 || index >= imageDetails.length) return;
                 const detail = imageDetails[index];
                 detailedModalImage.classList.add('opacity-0','transition-opacity','duration-150');
                 setTimeout(() => {
                     detailedModalImage.src = detail.src;
                     detailedModalImage.alt = `Full size view of ${detail.title}`;
                     detailedModalImage.classList.remove('opacity-0');
                 }, 150);
                 detailedModalTitle.textContent = detail.title;
                 detailedModalSummary.textContent = detail.summary;
                 // currentIndex is updated before calling this or by nav buttons
             }

             function openDetailedModal(index) {
                 if (!detailedModal) return;
                 currentIndex = index; // Ensure index is correct
                 updateDetailedModalContent(currentIndex);
                 detailedModal.classList.remove('opacity-0', 'pointer-events-none');
                 detailedModal.classList.add('opacity-100');
                 detailedModal.querySelector('#modalContentDetailed').classList.add('animate-scale-in');
                 detailedModal.setAttribute('aria-hidden', 'false');
                 document.body.style.overflow = 'hidden';
                 stopAutoChange();
             }

             function closeDetailedModal() {
                 if (!detailedModal) return;
                 detailedModal.classList.add('opacity-0');
                 detailedModal.classList.remove('opacity-100');
                 detailedModal.querySelector('#modalContentDetailed').classList.remove('animate-scale-in');
                 setTimeout(() => {
                     detailedModal.classList.add('pointer-events-none');
                     detailedModal.setAttribute('aria-hidden', 'true');
                     document.body.style.overflow = '';
                 }, 300);
             }

            function showPrevDetailedModalImage() {
                 const newIndex = (currentIndex - 1 + imageDetails.length) % imageDetails.length;
                 currentIndex = newIndex;
                 updateDetailedModalContent(currentIndex);
             }
             function showNextDetailedModalImage() {
                 const newIndex = (currentIndex + 1) % imageDetails.length;
                 currentIndex = newIndex;
                 updateDetailedModalContent(currentIndex);
             }

            // --- SIMPLE Popup Modal Functions ---
            function openSimplePopup() {
                if (!simplePopupModal || !mainImage) return;
                simplePopupImage.src = mainImage.src;
                simplePopupImage.alt = mainImage.alt || "Enlarged view";
                simplePopupModal.classList.remove('opacity-0', 'pointer-events-none');
                simplePopupModal.classList.add('opacity-100');
                simplePopupModal.querySelector(':scope > div').classList.add('animate-scale-in');
                simplePopupModal.setAttribute('aria-hidden', 'false');
                document.body.style.overflow = 'hidden';
                stopAutoChange();
            }

            function closeSimplePopup() {
                if (!simplePopupModal) return;
                simplePopupModal.classList.add('opacity-0');
                simplePopupModal.classList.remove('opacity-100');
                simplePopupModal.querySelector(':scope > div').classList.remove('animate-scale-in');
                setTimeout(() => {
                    simplePopupModal.classList.add('pointer-events-none');
                    simplePopupModal.setAttribute('aria-hidden', 'true');
                    document.body.style.overflow = '';
                }, 300);
            }

            // --- Auto Image Change ---
            // function autoChangeImage() { /* ... no changes ... */ } // Logic is fine
            // function startAutoChange(interval = 20000) { /* ... no changes ... */ } // Logic is fine
            function stopAutoChange() {
                 if (autoChangeInterval) {
                     clearInterval(autoChangeInterval);
                     autoChangeInterval = null;
                 }
            }
            function toggleMobileMenu() { /* ... no changes ... */ }

            // --- Scroll/Animation Observer ---
             const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('is-visible'); });
            }, { threshold: 0.1 });
             function observeAnimatedElements() { animatedElements.forEach(el => observer.observe(el)); }
             function handleScroll() {
                 if(siteHeader) {
                    siteHeader.classList.toggle('shadow-md', window.scrollY > 50);
                    siteHeader.classList.toggle('shadow-subtle', window.scrollY <= 50);
                 }
             }
             function updateFooterYear() { if (currentYearSpan) currentYearSpan.textContent = new Date().getFullYear(); }


            // --- Add Thumbnail Event Listeners ---
            function addThumbnailListeners() {
                 document.querySelectorAll('.thumbnail').forEach(thumbnail => {
                     const index = parseInt(thumbnail.dataset.index, 10);
                     // THUMBNAILS open the DETAILED modal
                     thumbnail.addEventListener('click', () => {
                         updateMainDisplay(index, false); // Update main display but don't scroll page
                        //  openDetailedModal(index);    // Open the detailed modal
                     });
                     thumbnail.addEventListener('keydown', (e) => {
                         if (e.key === 'Enter' || e.key === ' ') {
                             e.preventDefault();
                             updateMainDisplay(index, false);
                            //  openDetailedModal(index);
                         }
                     });
                 });
            }

            // --- Event Listeners Setup ---
            if(mainImage) {
                 // MAIN IMAGE opens the SIMPLE popup
                 mainImage.addEventListener('click', openSimplePopup);
                 mainImage.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openSimplePopup(); } });
             }
             // Detailed Modal Listeners
             if(detailedModalCloseBtn) detailedModalCloseBtn.addEventListener('click', closeDetailedModal);
             if(detailedModalPrevBtn) detailedModalPrevBtn.addEventListener('click', showPrevDetailedModalImage);
             if(detailedModalNextBtn) detailedModalNextBtn.addEventListener('click', showNextDetailedModalImage);
             if(detailedModal) detailedModal.addEventListener('click', (e) => { if (e.target === detailedModal) closeDetailedModal(); });
             // Simple Popup Listeners
             if(simplePopupCloseBtn) simplePopupCloseBtn.addEventListener('click', closeSimplePopup);
             if(simplePopupModal) simplePopupModal.addEventListener('click', (e) => { if (e.target === simplePopupModal) closeSimplePopup(); });

             // Combined Keyboard listener
             document.addEventListener('keydown', (e) => {
                 if (detailedModal && !detailedModal.classList.contains('pointer-events-none')) {
                     if (e.key === 'Escape') closeDetailedModal();
                     else if (e.key === 'ArrowLeft') showPrevDetailedModalImage();
                     else if (e.key === 'ArrowRight') showNextDetailedModalImage();
                 } else if (simplePopupModal && !simplePopupModal.classList.contains('pointer-events-none')) {
                     if (e.key === 'Escape') closeSimplePopup();
                 }
             });

             // Other listeners
             if(menuToggle) menuToggle.addEventListener('click', toggleMobileMenu);
             if(mobileMenu) mobileMenu.querySelectorAll('a').forEach(link => link.addEventListener('click', toggleMobileMenu));
             window.addEventListener('scroll', handleScroll, { passive: true });
             document.addEventListener('contextmenu', (e) => { if (e.target.tagName === 'IMG') e.preventDefault(); }, false);

            // --- Initialisation ---
            populateThumbnails();
            if (imageDetails.length > 0) updateMainDisplay(0);
            updateFooterYear();
            // startAutoChange(); // Auto-start optional
            handleScroll();
            observeAnimatedElements();

        }); // End DOMContentLoaded
    </script>

</body>
</html>
